<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
   <h2>Promise(비동기 처리 작업 약속) 객체 사용하기</h2>
<script>
    function asyncHttpRequest() {
        const promise = new Promise((resolve, reject) => {
            setTimeout(() => {
                console.log("웹서버와의 비동기 통신 완료");
                // 통신 완료 후 정상 수행 시 resolve() 함수를 통해 데이터 전달
                //resolve("정상 데이터 처리 데이터");
                // 오류 발생 시
                reject("오류 발생");
            }, 1000);
        });
        return promise;
    }

    function someTask(){
        const promise = asyncHttpRequest();
        //---------
        promise.then((result) =>{
            console.log(result);
        })
        .catch((error) =>{
            console.log(error);
        })
        .finally(() => {
            console.log("정상 처리 되든 안된든 항상 실행");
        });
    }

    console.log("프로그램 시작됨...");
    someTask();
    console.log("프로그램 종료됨...")
</script>
</body>
</html>