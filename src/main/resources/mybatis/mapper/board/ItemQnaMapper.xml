<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper	namespace="com.ezen.grrreung.domain.board.mapper.ItemQnaMapper">
<!--게시글등록-->
	<insert id="create" parameterType="ItemQna">
        INSERT INTO item_qna (
            qna_code,
            item_id,
            qna_title,
            qna_cont,
            member_id
        ) VALUES (
                     item_qna_seq.NEXTVAL,
                     101,
                     #{qnaTitle},
                     #{qnaCont},
                     'member001'
                 )
	</insert>
<!--전체 리스트-->
	<select id="postList" resultType="ItemQna">
		SELECT *
		FROM item_qna
		order by qna_code DESC
	</select>
<!--검색 리스트-->
    <select id="searchList" parameterType="String" resultType="ItemQna">
        SELECT *
        FROM item_qna
        WHERE
            qna_title LIKE '%' || #{searchValue} || '%'
            OR member_id LIKE '%' || #{searchValue} || '%'
        order by qna_code DESC
    </select>

<!--상세보기-->
    <select id="findByBno" parameterType="int" resultType="ItemQna">
        SELECT qna_code,
               qna_title,
               qna_cont,
               member_id,
               TO_CHAR(qna_date, 'yyyy-MM-DD HH24:MI:SS') qna_date
        FROM item_qna
        WHERE qna_code = #{qnaCode}
    </select>
	
</mapper>

